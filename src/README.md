# Frack

Fake Rust error generator - both CLI and as a lib!

## CLI

Use `frack help`.

Command for the image:

```bash
frack
    error AMOGUS
        "this code is sus" \
        "    let Foo { x } = z;" \
        9-18 \
    fix "`y` lives matter" \
        "    let Foo { x, y } = z;" \
        16-19 \
    help "don't discriminate next time" \
    note "error generated by Kyllingene/frack"
```

## Lib

Code for the image:

```rust
let code = Code {
    code: "    let Foo { x } = z;".to_string(),
    line_number: 8,
    marker: Some(Marker {
        range: 9..=18,
        symbol: '^',
        color: 9,
        message: Some("what'd field `y` ever do to you?".to_string()),
        color_span: false,
    }),
};

let fix = Code {
    code: "    let Foo { x, y } = z;".to_string(),
    line_number: 8,
    marker: Some(Marker {
        range: 16..=19,
        symbol: '~',
        color: 10,
        message: None,
        color_span: true,
    }),
};

let error = Error {
    error_code: "AMOGUS".to_string(),
    message: "this code is sus".to_string(),
    file: File {
        path: "src/some_random_file.rs".to_string(),
        line: 8,
        col: 9,
    },

    code,
    helps: vec![
        Help {
            message: "`y` lives matter".to_string(),
            suggestion: Some(fix),
        },
        Help {
            message: "don't discriminate next time".to_string(),
            suggestion: None,
        },
    ],
    notes: vec![
        Note("error generated by Kyllingene/frack".to_string()),
    ],
};
```
